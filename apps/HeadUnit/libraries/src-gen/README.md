# Library
# Feature
- Glue-Code Binding Libarary for CommonAPI Binding (SOME/IP)
- Depends on CommonAPI, CommonAPI-SomeIP, vsomeip3
- Auto Generated code by CommonAPI Code Generator
- Create different libraries for common, proxy and stub for each Service
- Compile and Build seperately with execution files
- Libraries are loaded only if they are needed and at the time when they are needed
    - Standard CommonAPI way to connect to D-Bus or SOME/IP
    - Connect Interface to Library by using commonapi.ini file
    - Library contains Service, Interface and its IDs

# Command to generate the src-gen files
## .fidl file 
- The location of the core generator may be varying according to the path where it is installed.
```
commonapi_core_generator/commonapi-core-generator-linux-x86 --skel --dest-common ./src-gen/core/common/battery --dest-proxy ./src-gen/core/proxy/battery --dest-stub ./src-gen/core/stub/battery --dest-skel ./src-gen/core/skel/battery ./fidl/battery.fidl
```

## .fdepl file
- The location of the someip generator may be varying according to the path where it is installed.
```
commonapi_someip_generator/commonapi-someip-generator-linux-x86 --dest-common ./src-gen/someip/common/battery --dest-proxy ./src-gen/someip/proxy/battery --dest-stub ./src-gen/someip/stub/battery ./fidl/battery.fdepl
```

# Description
| File            | Description | 
|------------------|------------------|
| .fidl     | Generated code by core_generator with .fidl file    |
| .fdepl    | Generated code by someip_generator with .fdepl file     | 

# How to build the library
- The library files for the service(stub) and clients(proxy) can be generated by the CMakeLists.txt.
- The commands below are need to be followed to create the library.
- Create the build folder outside the src-gen folder.
```
mkdir build && cd build
cmake -DBUILD_LIB=ON ..
make
sudo make install
```

# Reference
- [CommonAPI core generator](https://github.com/COVESA/capicxx-core-tools/releases/tag/3.2.15)
- [CommonAPI someip generator](https://github.com/COVESA/capicxx-someip-tools/releases/tag/3.2.15)
- [Loading Bindings And Libraries](https://github.com/COVESA/capicxx-core-tools/wiki/Loading-Bindings-And-Libraries)